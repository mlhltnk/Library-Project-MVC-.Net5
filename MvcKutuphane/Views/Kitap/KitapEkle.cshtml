@model MvcKutuphane.Models.Entity.TBLKITAP

@{
    ViewBag.Title = "KitapEkle";
    Layout = "~/Views/Shared/Layout.cshtml";
}

<form class="form-group" method="post">
    <div></div>
    <div style="margin-top:15px">
        <label>Kitap Adı</label>
        @Html.TextBoxFor(k => k.AD, new { @class = "form-control" })
    </div>


    <div style="margin-top:15px">
        <label>Kategori</label>
        @Html.DropDownListFor(k => k.TBLKATEGORI.ID, (List<SelectListItem>)ViewBag.dgr1, new { @class = "form-control" })

    </div>


    <div style="margin-top:15px">
        <label>Yazar</label>
        @Html.DropDownListFor(k => k.TBLYAZAR.ID, (List<SelectListItem>)ViewBag.dgr2, new { @class = "form-control" })

    </div>


    <div style="margin-top:15px">
        <label>Basım Yılı</label>
        @Html.TextBoxFor(k => k.BASIMYIL, new { @class = "form-control" })

    </div>
    <div style="margin-top:15px">
        <label>Yayınevi</label>
        @Html.TextBoxFor(k => k.YAYINEVI, new { @class = "form-control" })

    </div>
    <div style="margin-top:15px">
        <label>Sayfa Sayısı</label>
        @Html.TextBoxFor(k => k.SAYFASAYISI, new { @class = "form-control" })

    </div>


    <div style="margin-top:15px">

        <button class="btn btn-info">Kitap Ekle</button>
    </div>

</form>



{
            //var kitaplar = from k in db.TBLKITAP select k;  //k değişkeniyle tblkitap tablosuna ulaş ve k'yı(yani tüm tabloyu) seç


            if (!string.IsNullOrEmpty(p))
            {
               var ktp = db.TBLKITAP.Where(x => x.AD.Contains(p));
                //Kullanıcının girdiği "p" metni, her kitabın "AD"(isim) özelliği içerisinde bulunup bulunmadığını kontrol eder
                return View(ktp.ToList());
            }
            var kitaplar = db.TBLKITAP.ToList();
            return View(kitaplar);
        }